/* Fonts */
@import '@fontsource/inter/400.css';
@import '@fontsource/inter/500.css';
@import '@fontsource/inter/600.css';
@import '@fontsource/inter/700.css';
@import '@fontsource/space-grotesk/700.css';
@import '@fontsource/jetbrains-mono/400.css';
@import '@fontsource/jetbrains-mono/500.css';
@import '@fontsource/jetbrains-mono/700.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme color tokens — summer terminal palette */
/* Default: dark (warm summer night) */
:root {
	--color-background: 15 15 22;       /* warm navy */
	--color-foreground: 225 218 200;    /* warm cream */
	--color-muted: 25 25 35;            /* deep twilight */
	--color-border: 50 50 60;           /* dusky edge */
	--color-green: 85 220 120;          /* meadow green — links */
	--color-orange: 255 165 55;         /* sunset amber — tags */
	--color-lime: 95 195 245;           /* summer sky — metadata */
	--color-gold: 240 195 75;           /* golden hour — headings */
	--color-red: 255 110 100;           /* coral hibiscus — errors */
	--color-comment: 120 155 100;       /* sage grass — comments */
	--color-primary: 240 195 75;
}

@media (prefers-color-scheme: light) {
	:root {
		--color-background: 255 250 238;    /* warm cream paper */
		--color-foreground: 35 30 25;       /* warm near-black */
		--color-muted: 245 238 225;         /* soft parchment */
		--color-border: 215 208 195;        /* warm sand */
		--color-green: 15 135 55;           /* deep forest — links */
		--color-orange: 190 95 5;           /* deep amber — tags */
		--color-lime: 10 100 180;           /* deep sky — metadata */
		--color-gold: 155 110 15;           /* deep honey — headings */
		--color-red: 195 50 45;             /* deep coral — errors */
		--color-comment: 75 115 55;         /* deep sage — comments */
		--color-primary: 155 110 15;
	}
}

@layer base {
	html {
		scroll-behavior: smooth;
	}

	body {
		@apply bg-background text-foreground transition-colors duration-200;
	}

	/* Dark mode (default): subtle scanline texture */
	body {
		background-image: repeating-linear-gradient(
			0deg,
			rgb(var(--color-foreground) / 0.015) 0px,
			rgb(var(--color-foreground) / 0.015) 1px,
			transparent 1px,
			transparent 3px
		);
		background-size: 100% 3px;
	}

	/* Light mode: subtle dot grid texture */
	@media (prefers-color-scheme: light) {
		body {
			background-image: radial-gradient(rgb(var(--color-border) / 0.4) 1px, transparent 1px);
			background-size: 20px 20px;
		}
	}

	::selection {
		background-color: rgb(var(--color-gold) / 0.25);
	}
}

@layer components {
	.focus-visible-ring {
		@apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background;
	}

	.prose img {
		@apply rounded-lg;
	}

	.prose pre {
		@apply rounded-lg border border-border;
	}

	/* Blinking cursor */
	.cursor-blink::after {
		content: '|';
		animation: blink 1s step-end infinite;
		color: rgb(var(--color-green));
		font-weight: 400;
	}

	@keyframes blink {
		0%, 100% { opacity: 1; }
		50% { opacity: 0; }
	}

	/* Editor line-highlight on hover */
	.line-highlight {
		transition: background-color 0.15s ease;
		border-radius: 0.25rem;
	}
	.line-highlight:hover {
		background-color: rgb(var(--color-muted));
	}
}
